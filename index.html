<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Union Blues - Costs Calculator</title>
  <style>
    :root { --gap: 14px; --border: #ddd; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; padding: 18px; background: #fafafa; }
    .wrap { max-width: 900px; margin: 0 auto; }
    h1 { font-size: 20px; margin: 0 0 10px; }
    .card { background: white; border: 1px solid var(--border); border-radius: 12px; padding: 16px; box-shadow: 0 1px 2px rgba(0,0,0,.04); }
    .grid { display: grid; grid-template-columns: 1fr; gap: var(--gap); }
    @media (min-width: 800px) { .grid { grid-template-columns: 1fr 1fr; } }
    label { display: block; font-size: 13px; margin-bottom: 6px; color: #333; }
    input[type="number"], input[type="range"] {
      width: 100%; padding: 10px; border: 1px solid var(--border);
      border-radius: 10px; font-size: 16px; box-sizing: border-box;
    }
    .row { display: flex; gap: 10px; align-items: center; }
    .pill { font-variant-numeric: tabular-nums; background: #f2f2f2; padding: 6px 10px; border-radius: 999px; border: 1px solid var(--border); }
    .results { display: grid; grid-template-columns: 1fr; gap: var(--gap); margin-top: var(--gap); }
    @media (min-width: 800px) { .results { grid-template-columns: 1fr 1fr; } }
    .big { font-size: 22px; font-weight: 700; margin: 6px 0; font-variant-numeric: tabular-nums; }
    .muted { color: #666; font-size: 13px; line-height: 1.4; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 13px; }
    th, td { text-align: right; padding: 8px; border-top: 1px solid var(--border); font-variant-numeric: tabular-nums; }
    th:first-child, td:first-child { text-align: left; }
    .note { margin-top: 10px; padding: 10px; background: #fff7e6; border: 1px solid #ffe0a3; border-radius: 10px; font-size: 13px; }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>Prax (Management) vs. UNITE HERE — Live Score Calculator</h1>

    <div class="card grid">
      <div>
        <label for="wage">Wage offer (USD/hour)</label>
        <input id="wage" type="number" min="0" step="0.01" value="10.00" />
        <div class="muted" style="margin-top:8px;">
          Baseline is $10.00/hour. Wage effects are calculated relative to $10.00.
        </div>
      </div>

      <div>
        <label for="days">Strike days (0–20)</label>
        <div class="row">
          <input id="days" type="range" min="0" max="20" step="1" value="0" />
          <div class="pill"><span id="daysLabel">0</span> days</div>
        </div>
        <div class="note">
          After 20 days, the union runs out of strike funds. This calculator caps strike days at 20.
        </div>
      </div>
    </div>

    <div class="results">
      <div class="card">
        <div class="muted">Prax net (relative to $10/hr, no strike)</div>
        <div class="big" id="praxNet">$0</div>
        <table>
          <tr><th>Component</th><th>Amount</th></tr>
          <tr><td>Wage cost to Prax</td><td id="praxWage">$0</td></tr>
          <tr><td>Strike cost to Prax</td><td id="praxStrike">$0</td></tr>
        </table>
      </div>

      <div class="card">
        <div class="muted">Union net (relative to $10/hr, no strike)</div>
        <div class="big" id="unionNet">$0</div>
        <table>
          <tr><th>Component</th><th>Amount</th></tr>
          <tr><td>Wage benefit to Union</td><td id="unionWage">$0</td></tr>
          <tr><td>Strike cost to Union</td><td id="unionStrike">$0</td></tr>
        </table>
      </div>
    </div>

    <div class="card" style="margin-top:14px;">
      <div class="muted">
        Interpretation: “Net” is the running total change vs. settling immediately at $10/hr with 0 strike days.
        Positive is better for that side; negative is worse.
      </div>
    </div>
  </div>

<script>
  // Cumulative strike costs from your table (index = strike days)
  const strikeCostPrax = [
    0, 115000, 260000, 435000, 640000, 875000, 1140000, 1435000, 1760000, 2115000,
    2500000, 2915000, 3360000, 3835000, 4340000, 4875000, 5440000, 6035000, 6660000, 7315000, 8000000
  ];

  const strikeCostUnion = [
    0, 55000, 120000, 195000, 280000, 375000, 480000, 595000, 720000, 855000,
    1000000, 1155000, 1320000, 1495000, 1680000, 1875000, 2080000, 2295000, 2520000, 2755000, 3000000
  ];

  const wage = document.getElementById('wage');
  const days = document.getElementById('days');
  const daysLabel = document.getElementById('daysLabel');

  const praxNetEl = document.getElementById('praxNet');
  const unionNetEl = document.getElementById('unionNet');

  const praxWageEl = document.getElementById('praxWage');
  const unionWageEl = document.getElementById('unionWage');
  const praxStrikeEl = document.getElementById('praxStrike');
  const unionStrikeEl = document.getElementById('unionStrike');

  function fmtUSD(x) {
    return x.toLocaleString(undefined, { style: 'currency', currency: 'USD', maximumFractionDigits: 0 });
  }

  function recalc() {
    const w = Number(wage.value);
    let d = Number(days.value);
    if (!Number.isFinite(w)) return;

    // cap days at 20 (already enforced by slider, but just in case)
    d = Math.max(0, Math.min(20, Math.round(d)));
    days.value = String(d);
    daysLabel.textContent = String(d);

    const delta = (w - 10);

    // Wage effects (relative to $10/hr)
    const praxWageCost = 5000000 * delta;   // cost (positive if w>10)
    const unionWageBenefit = 4000000 * delta; // benefit (positive if w>10)

    // Strike costs (cumulative)
    const praxStrike = strikeCostPrax[d];
    const unionStrike = strikeCostUnion[d];

    // Net (relative to baseline):
    const praxNet = -praxWageCost - praxStrike;
    const unionNet = unionWageBenefit - unionStrike;

    praxNetEl.textContent = fmtUSD(praxNet);
    unionNetEl.textContent = fmtUSD(unionNet);

    praxWageEl.textContent = fmtUSD(praxWageCost);
    unionWageEl.textContent = fmtUSD(unionWageBenefit);
    praxStrikeEl.textContent = fmtUSD(praxStrike);
    unionStrikeEl.textContent = fmtUSD(unionStrike);
  }

  wage.addEventListener('input', recalc);
  days.addEventListener('input', recalc);
  recalc();
</script>
</body>
</html>
